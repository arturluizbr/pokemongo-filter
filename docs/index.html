<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Go Search Criteria Generator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #FFE600; /* Pikachu yellow */
            font-family: Arial, sans-serif;
        }

        .container {
            background-color: #FFFFFF; /* White background */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        h1 {
            color: #E4402B; /* Pikachu red */
        }

        .btn-primary {
            background-color: #E4402B; /* Pikachu red */
            border-color: #E4402B;
        }

        .btn-primary:hover {
            background-color: #C43323; /* Darker red on hover */
            border-color: #C43323;
        }

        .btn-success {
            background-color: #33691E; /* Pikachu green */
            border-color: #33691E;
        }

        .btn-success:hover {
            background-color: #275B16; /* Darker green on hover */
            border-color: #275B16;
        }

        .form-control {
            border-color: #E4402B; /* Pikachu red */
        }

        label {
            color: #E4402B; /* Pikachu red */
        }

        #searchCriteria {
            resize: none;
        }

        /* Additional styling for the generated search criteria */
        #searchCriteria {
            background-color: #FFFFE0; /* Pale yellow background for the text area */
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Pokémon Go Search Criteria Generator</h1>

        <div id="ruleSets">
            <!-- O primeiro conjunto de campos -->
            <div class="ruleSet">
                <div class="form-group">
                    <label for="type">Type:</label>
                    <select class="form-control" id="type">
                        <option value="all">All</option>
                        <option value="fire">Fire</option>
                        <option value="water">Water</option>
                        <!-- Adicione mais tipos conforme necessário -->
                    </select>
                </div>

                <div class="form-row">
                    <div class="col-md-6 form-group">
                        <label for="minCP">Min CP:</label>
                        <input type="number" class="form-control" id="minCP" placeholder="Min CP">
                    </div>
                    <div class="col-md-6 form-group">
                        <label for="maxCP">Max CP:</label>
                        <input type="number" class="form-control" id="maxCP" placeholder="Max CP">
                    </div>
                </div>

                <div class="form-group">
                    <label for="favorites">Favorites:</label>
                    <input type="text" class="form-control" id="favorites" placeholder="Favorites (e.g., !sombrosos, ultra beasts)">
                </div>
            </div>

            <!-- Adicione mais conjuntos de campos para as outras regras aqui -->

        </div>

        <button type="button" class="btn btn-primary" id="addRuleSetButton">Add Rule Set</button>
        <button type="button" class="btn btn-success" id="generateButton">Generate Search Criteria</button>

        <div class="form-group mt-4">
            <label for="searchCriteria">Search Criteria:</label>
            <textarea class="form-control" id="searchCriteria" readonly></textarea>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            function generateSearchCriteria() {
                const ruleSets = [];

                // Iterar através de todos os conjuntos de campos
                $('.ruleSet').each(function() {
                    const type = $(this).find('.form-control#type').val();
                    const minCP = $(this).find('.form-control#minCP').val();
                    const maxCP = $(this).find('.form-control#maxCP').val();
                    const favorites = $(this).find('.form-control#favorites').val().trim();

                    // Construir a regra para este conjunto
                    let rule = '';
                    if (type !== 'all') {
                        rule += `type${type}&`;
                    }
                    if (minCP !== '') {
                        rule += `cp${minCP}-${maxCP}&`;
                    }
                    if (favorites !== '') {
                        rule += `${favorites}&`;
                    }

                    ruleSets.push(rule.trim());
                });

                // Unir todas as regras dos conjuntos com ;
                const criteria = ruleSets.join(';');

                $('#searchCriteria').val(criteria);
            }

            // Acionar a função sempre que um campo for alterado
            $('.form-control').on('change', function() {
                generateSearchCriteria();
            });

            // Adicionar um novo conjunto de campos quando o botão "Add Rule Set" é clicado
            $('#addRuleSetButton').on('click', function() {
                const newRuleSet = $('.ruleSet:first').clone(); // Clona o primeiro conjunto
                newRuleSet.find('select, input').val(''); // Limpa os valores dos campos clonados
                $('#ruleSets').append(newRuleSet); // Adiciona o conjunto clonado ao DOM
            });
        });
    </script>
</body>
</html>
